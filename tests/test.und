# ---
greeting: Str = "Hello"
echo(greeting[-2::-1])
echo(greeting[-2])
echo((greeting + "! ") * 3)

# ---
not (true and false)

# ---
echo("hello" == "hello")
echo(42)
echo(3.14)
echo(1.0)

# ---
echo([])
echo([1,2, 3])
echo([true, false])
echo(["world"])

# ---
a = [[1], [2, 3]] + [[4, 5, 6]*2]
echo(a)

# ---
lst: List[Int] = [1, 2, 3, 4, 5]
echo(lst[2:-1])

# ---
for a, b in [["hello", "world"], ["good", "morning"], ["see", "you"]] do
    echo(a + " " + b + "!")

# ---
s = "hello"
for c in s do echo(c)

# ---
sum = 0
for m in [1, 2, 3] do {
    sum = sum + m
}
echo(sum)

# ---
nested = [[1,2,3], [4,5], [6]]
echo(nested[0][1])
echo(nested[1][0:2])

# ---
r = 1..4
for i in r do echo(i)
for i in 1..4 do echo(i)
for i in 1..4..0.5 do echo(i)
for x in [] do echo(x)
for x in [42] do echo(x)

# ---
s = "hello"
while s do {
    echo(s)
    s = s[1:]
}

# ---
l = [0] * 10
for i in 0..10 do {
    l[i] = i
}
echo(l)
echo(l[5:])
echo(l[5]+5)

# ---
a = "h e l l o"
b = "1234"
for i in 1..9..2 do {
    echo((i-1) / 2)
    a[i] = b[(i-1) / 2]
}
echo(a)
a[0] = "world"
echo(a)

# ---
greet!(name: Str, greeting: Str = "Hello", punct: Str = "!"): Str = greeting + " " + name + punct
echo(greet("World", punct="."))

# ---
factorial!(n: Int): Int = if n <= 1 then 1 else n * factorial(n - 1)
echo(factorial(5))

# ---
fib!(n: Int): Int = if n <= 1 then n else fib(n - 1) + fib(n - 2)
echo(fib(10))

# ---
sum_list!(lst: List[Int]): Int = if lst == [] then 0 else lst[0] + sum_list(lst[1:])
echo(sum_list([1, 2, 3, 4, 5]))

# ---
f!(x) = x * 2
g!(y) = y + 3
h!(z) = g(f(z))
echo(h(5))

# ---
return_early!(x: Int): Int = {
    if x < 0 then return 0
    return x * 2
}
echo(return_early(5))
echo(return_early(-5))

# ---
x = 10
outer!(greeting: Str) = {
    y = 20
    inner!() = {
        echo(greeting)
        return x + y
    }
    echo(inner())
}
x = 20
outer("Hello")
